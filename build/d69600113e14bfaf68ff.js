"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[506],{506:(t,e,o)=>{o.r(e);class n extends Uint8Array{constructor(){super(81)}getSymbol(t,e){return this[9*t+e]}setSymbol(t,e,o){this[9*t+e]=o}toData(){let t="";for(let e=0;e<81;e++)t+=this[e];return t}fromData(t){for(let e=0;e<81;e++)this[e]=parseInt(t[e])}}const l=document.createElement("canvas"),i=document.createElement("canvas");l.style.position="fixed",l.style.width="192px",l.style.height="192px",l.style.bottom="0px",l.style.left="0px",i.style.position="fixed",i.style.width="192px",i.style.height="192px",i.style.bottom="0px",i.style.right="0px";const s=t=>Math.round(t)+.5,a=(t,e)=>{e.width=192*window.devicePixelRatio,e.height=192*window.devicePixelRatio;const o=[[1,2,3],[4,5,6],[7,8,9]],n=e.width,l=n/3,i=l,a=.5*l,r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.lineWidth=2*window.devicePixelRatio,r.beginPath();for(let t=0;t<=n;t+=i){const e=s(t);r.moveTo(e,0),r.lineTo(e,n),r.moveTo(0,e),r.lineTo(n,e)}r.stroke(),r.strokeStyle="black",r.font=t,r.textAlign="center",r.textBaseline="bottom",r.fillStyle="black";const c=r.measureText("0");let d=a;for(let t=0;t<3;t++,d+=i){let e=a;for(let n=0;n<3;n++,e+=i)r.fillText(o[t][n],s(e),s(d+(.5*c.actualBoundingBoxAscent-.5*c.actualBoundingBoxDescent)))}},r=[],c=document.createElement("canvas"),d="Hauss,sans-serif",f=new class{constructor(){this.canvas=c,this.grid=new n,this.startGrid=new n}setGrid(t){for(let e=0;e<9;e++){const o=t[e];for(let t=0;t<9;t++)this.startGrid[9*e+t]=o[t]}this.grid.set(this.startGrid)}resetGrid(){this.grid.set(this.startGrid)}hitDetect(t,e,o){const n=o-8,l=Math.floor((e-4)/n*9),i=Math.floor((t-4)/n*9);return l<0||i<0||l>=9||i>=9?[-1,-1]:[l,i]}draw(t,e,o){const n=c.getContext("2d");n.fillStyle="white",n.fillRect(0,0,c.width,c.height),n.strokeStyle="black";const l=c.width,i=l-8*window.devicePixelRatio,a=i/3,f=i/9;let h;t&&(n.fillStyle="cyan",n.fillRect(s(i*o/9)+1*window.devicePixelRatio,s(i*e/9)+1*window.devicePixelRatio,s(f),s(f))),n.beginPath(),n.lineWidth=8*window.devicePixelRatio,h=4*window.devicePixelRatio;for(let t=0;t<=3;t++,h+=a){const t=s(h);n.moveTo(t,0),n.lineTo(t,l),n.moveTo(0,t),n.lineTo(l,t)}n.stroke(),n.beginPath(),n.lineWidth=2*window.devicePixelRatio,h=4*window.devicePixelRatio+f;const u=2*f;for(let t=0;t<3;t++,h+=u){const t=.5;let e=Math.round(h)+t;n.moveTo(e,0),n.lineTo(e,l),n.moveTo(0,e),n.lineTo(l,e),h+=f,e=Math.floor(h)+t,n.moveTo(e,0),n.lineTo(e,l),n.moveTo(0,e),n.lineTo(l,e)}n.stroke(),n.textAlign="center",n.textBaseline="bottom",n.fillStyle="black";let m=null,y=null;h=4*window.devicePixelRatio+.5*f;let p=h;for(let t=0;t<9;t++,p+=f){let e=h;for(let o=0;o<9;o++,e+=f){const l=r[9*t+o];let i=0;if(l)for(let t=0;t<9;t++)l[t]&&i++;if(i>0){n.font="100 "+s(.7*f*1/3)+"px "+d,y||(y=n.measureText("0"));for(let t=0;t<3;t++)for(let o=0;o<3;o++)if(l[3*o+t]){const l=e+f*(t-1)/3*1,i=p+(.5*y.actualBoundingBoxAscent-.5*y.actualBoundingBoxDescent)+f*(o-1)/3*1,s=3*o+t+1;n.fillText(s,l,i)}}else{n.font="100 "+s(.7*f)+"px "+d,m||(m=n.measureText("0"));const l=this.grid.getSymbol(t,o);if(0===l)continue;const i=e,a=p+(.5*m.actualBoundingBoxAscent-.5*m.actualBoundingBoxDescent);n.fillText(l,s(i),s(a))}}}}},h=(t,e)=>{for(let o=0;o<81;o++)if(0===t[o]){const t=e[o];if(t)for(let e=0;e<9;e++)!1!==t[e]&&(t[e]=!0);else e[o]=[!0,!0,!0,!0,!0,!0,!0,!0,!0]}for(let o=0;o<9;o++)for(let n=0;n<9;n++){if(t.getSymbol(o,n)>0)continue;const l=e[9*o+n];if(l)for(let e=0;e<9;e++){const i=t.getSymbol(o,e),s=t.getSymbol(e,n),a=3*Math.floor(o/3),r=3*Math.floor(n/3),c=t.getSymbol(a+Math.floor(e/3),r+e%3);i>0&&(l[i-1]=!1),s>0&&(l[s-1]=!1),c>0&&(l[c-1]=!1)}}},u=(t,e)=>{for(let o=0;o<81;o++)if(0===t[o]){let n=0;const l=e[o];if(!l)continue;for(let t=0;t<9;t++)if(l[t]){if(0!==n){n=-1;break}n=t+1}if(n>0)return delete e[o],t[o]=n,!0}return!1},m=(t,e)=>{for(let o=0;o<9;o++){for(let n=0;n<9;n++){let l=-1;for(let t=0;t<9;t++){const i=e[9*n+t];if(i&&i[o]){if(-1!==l){l=-1;break}l=t}}if(-1!==l)return t[9*n+l]=o+1,delete e[9*n+l],!0}for(let n=0;n<9;n++){let l=-1;for(let t=0;t<9;t++){const i=e[9*t+n];if(i&&i[o]){if(-1!==l){l=-1;break}l=t}}if(-1!==l)return t[9*l+n]=o+1,delete e[9*l+n],!0}for(let n=0;n<9;n++){const l=3*Math.floor(n/3),i=n%3*3;let s=-1,a=-1;for(let t=0;t<9;t++){const n=l+Math.floor(t/3),r=i+t%3,c=e[9*n+r];if(c&&c[o]){if(-1!==s){s=-1;break}s=n,a=r}}if(-1!==s){const n=9*s+a;return t[n]=o+1,delete e[n],!0}}}return!1};let y=0,p=0,x=!1;document.body.appendChild(l),document.body.appendChild(i),document.body.style.userSelect="none";const g=()=>{var t;f.draw(x,y,p),t="100 "+s(64*window.devicePixelRatio)+"px "+d,a(t,l),a(t,i)},w=()=>{localStorage.setItem("startGrid",f.startGrid.toData()),localStorage.setItem("grid",f.grid.toData()),localStorage.setItem("markers",JSON.stringify(r))},b=[[[6,0,7,9,0,1,3,0,0],[9,0,3,0,7,0,0,0,0],[0,5,0,0,3,0,0,0,0],[0,0,0,1,2,0,6,8,0],[0,0,2,5,8,9,0,0,0],[5,0,0,0,0,0,0,0,0],[3,0,0,0,0,7,9,0,6],[0,0,0,0,6,0,4,0,0],[7,0,0,3,0,0,8,0,0]],[[2,0,0,0,0,0,0,0,8],[7,0,0,0,9,0,0,0,0],[6,0,5,0,3,0,0,0,0],[3,0,0,0,0,0,6,0,0],[0,0,8,4,0,7,9,0,0],[1,0,0,6,8,0,0,0,0],[0,0,3,2,0,0,0,0,1],[0,5,0,0,0,0,0,0,6],[0,0,0,8,0,0,0,4,0]],[[8,0,0,0,0,0,0,0,0],[0,0,4,0,0,0,8,9,0],[9,0,0,0,3,0,0,1,0],[0,7,0,0,0,4,0,0,0],[0,0,0,8,1,9,0,0,0],[6,4,0,0,0,3,0,0,0],[0,2,5,0,0,0,0,0,6],[0,0,0,0,5,0,4,0,0],[0,0,0,1,0,0,0,0,3]],[[0,0,7,0,0,8,0,0,0],[0,9,5,0,0,2,6,0,0],[0,0,0,1,0,0,2,5,0],[0,1,0,0,0,0,0,7,9],[6,0,0,0,0,9,0,0,0],[0,0,8,0,0,4,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,6,4,0,0,8,0,0],[0,3,0,0,5,0,0,2,0]],[[5,0,0,0,0,4,0,7,2],[0,0,0,0,0,0,0,0,0],[0,0,0,6,1,3,0,0,0],[0,0,0,3,7,8,0,0,0],[0,0,0,4,0,0,0,6,3],[0,0,4,0,0,0,9,0,0],[0,9,6,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,4],[0,1,0,0,0,5,3,9,0]],[[0,0,1,3,0,0,0,0,0],[0,9,0,0,2,0,0,0,0],[0,0,8,0,0,0,0,2,6],[0,0,0,0,0,9,0,0,5],[0,0,0,0,0,1,8,0,9],[0,0,0,7,3,4,0,0,0],[0,0,0,0,0,0,7,0,0],[4,7,0,0,0,0,0,9,0],[3,0,0,0,1,0,4,0,0]],[[1,0,0,2,0,0,3,0,0],[2,0,0,3,0,0,4,0,0],[3,0,0,4,0,0,5,0,0],[4,0,0,5,0,0,6,0,0],[0,0,0,0,0,0,0,0,0],[0,0,3,0,0,4,0,0,5],[0,0,4,0,0,5,0,0,6],[0,0,5,0,0,6,0,0,7],[0,0,6,0,0,7,0,0,8]],[[0,5,0,0,2,0,0,0,0],[0,0,0,6,0,0,1,0,0],[0,8,3,0,0,4,0,0,6],[0,3,9,0,8,0,7,0,0],[5,0,0,0,0,0,0,0,3],[1,0,0,0,0,9,0,0,0],[0,6,4,0,0,8,0,0,1],[9,0,0,0,0,0,0,0,0],[0,0,0,0,7,0,0,2,0]],[[0,3,0,0,4,0,0,0,0],[0,0,1,0,0,7,0,0,0],[0,0,6,0,0,0,9,4,0],[0,0,0,5,7,8,0,0,0],[0,0,0,3,0,0,2,0,0],[0,0,0,1,0,0,3,0,6],[5,8,0,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,8],[7,0,0,0,1,0,0,0,5]],[[9,0,0,4,2,0,5,6,0],[0,0,7,0,0,0,0,4,0],[0,5,4,0,0,0,1,9,0],[0,0,0,8,7,1,9,0,0],[0,2,0,0,0,0,0,0,0],[0,0,0,0,0,6,4,0,0],[0,7,0,0,3,0,0,0,5],[0,0,0,0,9,0,0,0,0],[0,0,8,0,0,0,0,0,0]]];(()=>{const t=localStorage.getItem("startGrid");if(t){f.startGrid.fromData(t);const e=localStorage.getItem("grid");e&&f.grid.fromData(e);const o=localStorage.getItem("markers");if(o){const t=JSON.parse(o);r.length=0;for(const e in t)r[e]=t[e]}return!0}return!1})()||f.setGrid(b[0]),document.body.appendChild(f.canvas),f.canvas.addEventListener("click",(t=>{const e=t.target.getBoundingClientRect(),o=t.clientX-e.left,n=t.clientY-e.top,[l,i]=f.hitDetect(o,n,e.width);l<0||i<0||0===f.startGrid.getSymbol(l,i)&&(x&&y===l&&p===i?x=!1:(y=l,p=i,x=!0),g())}));const v=t=>{const e=t.target.getBoundingClientRect(),o=t.clientX-e.left,n=t.clientY-e.top,l=e.width;return[Math.floor(n/l*3),Math.floor(o/l*3)]};l.addEventListener("click",(t=>{if(!x)return;const[e,o]=v(t),n=3*e+o+1;f.grid.getSymbol(y,p)==n?f.grid.setSymbol(y,p,0):(delete r[9*y+p],f.grid.setSymbol(y,p,n),w()),g()})),i.addEventListener("click",(t=>{if(!x)return;const[e,o]=v(t),n=3*e+o;let l=r[9*y+p];l||(l=[],r[9*y+p]=l),l[n]=!l[n],g()})),window.addEventListener("focus",(()=>{console.log("onFocus"),g()})),window.addEventListener("blur",(()=>{})),addEventListener("orientationchange",(t=>{g(),console.log(t)}));const k=((t,e)=>{const o=document.createElement("select");for(const e of t){const t=document.createElement("option");t.text=e,o.appendChild(t)}return o.addEventListener("change",(()=>{(t=>{0!==t.selectedIndex&&(r.length=0,f.setGrid(b[t.selectedIndex-1]),w(),g())})(o)})),document.body.appendChild(o),document.body.appendChild(document.createElement("br")),o})(["-",...b.keys()]);k.style.position="absolute";const S=document.createElement("button");S.appendChild(document.createTextNode("X")),S.style.position="absolute",S.style.width="32px",S.style.height="32px",S.addEventListener("click",(()=>{r.length=0,f.resetGrid(),w(),g()})),document.body.appendChild(S);const T=document.createElement("button");T.appendChild(document.createTextNode("+")),T.style.position="absolute",T.style.width="32px",T.style.height="32px",T.addEventListener("click",(()=>{let t=!1,e=0;do{h(f.grid,r),t=u(f.grid,r),t?e++:(t=m(f.grid,r),t&&e++)}while(t);console.log("Removals: "+e),g()})),document.body.appendChild(T);const E=document.createElement("button");E.appendChild(document.createTextNode("x")),E.style.position="absolute",E.style.width="32px",E.style.height="32px",E.addEventListener("click",(()=>{h(f.grid,r),g()})),document.body.appendChild(E),k.style.transform="translateX(-50%)",S.style.transform="translateX(-50%)",E.style.transform="translateX(-50%)",T.style.transform="translateX(-50%)",T.style.touchAction="manipulation",f.canvas.style.position="absolute",f.canvas.style.left="50%",f.canvas.style.touchAction="manipulation",l.style.touchAction="manipulation",i.style.touchAction="manipulation";const R=()=>{let t=window.innerWidth,e=window.innerHeight;t-192>e?(t-e<384&&(t-=384),f.canvas.style.top="0%",f.canvas.style.transform="translate(-50%, 0%)",T.style.bottom="320px",T.style.left="96px",E.style.bottom="280px",E.style.left="96px",k.style.bottom="240px",k.style.left="96px",S.style.bottom="200px",S.style.left="96px"):(f.canvas.style.top=e-t<192?"0%":.5*(e-192-t)+"px",e-t<384&&(e-=192),f.canvas.style.transform="translate(-50%, 0%)",E.style.bottom="128px",E.style.left="50%",T.style.bottom="88px",T.style.left="50%",k.style.bottom="48px",k.style.left="50%",S.style.bottom="8px",S.style.left="50%");const o=Math.min(t,e);f.canvas.style.width=o+"px",f.canvas.style.height=o+"px",f.canvas.width=2*Math.floor(o*window.devicePixelRatio/1),f.canvas.height=2*Math.floor(o*window.devicePixelRatio/1),g()};R(),window.addEventListener("resize",R)}}]);