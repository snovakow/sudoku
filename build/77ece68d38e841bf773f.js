"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[506],{506:(t,e,o)=>{o.r(e);class n extends Uint8Array{constructor(){super(81)}getSymbol(t,e){return this[9*t+e]}setSymbol(t,e,o){this[9*t+e]=o}toData(){let t="";for(let e=0;e<81;e++)t+=this[e];return t}fromData(t){for(let e=0;e<81;e++)this[e]=parseInt(t[e])}}const l=document.createElement("canvas"),i=document.createElement("canvas");l.style.position="fixed",l.style.width="192px",l.style.height="192px",l.style.bottom="0px",l.style.left="0px",i.style.position="fixed",i.style.width="192px",i.style.height="192px",i.style.bottom="0px",i.style.right="0px";const s=t=>Math.round(t)+.5,a=(t,e)=>{e.width=192*window.devicePixelRatio,e.height=192*window.devicePixelRatio;const o=[[1,2,3],[4,5,6],[7,8,9]],n=e.width,l=n/3,i=l,a=.5*l,r=e.getContext("2d");r.clearRect(0,0,e.width,e.height),r.lineWidth=2*window.devicePixelRatio,r.beginPath();for(let t=0;t<=n;t+=i){const e=s(t);r.moveTo(e,0),r.lineTo(e,n),r.moveTo(0,e),r.lineTo(n,e)}r.stroke(),r.strokeStyle="black",r.font=t,r.textAlign="center",r.textBaseline="bottom",r.fillStyle="black";const d=r.measureText("0");let c=a;for(let t=0;t<3;t++,c+=i){let e=a;for(let n=0;n<3;n++,e+=i)r.fillText(o[t][n],s(e),s(c+(.5*d.actualBoundingBoxAscent-.5*d.actualBoundingBoxDescent)))}},r=[],d=document.createElement("canvas"),c="Hauss,sans-serif",h=new class{constructor(){this.canvas=d,this.grid=new n,this.startGrid=new n}setGrid(t){for(let e=0;e<9;e++){const o=t[e];for(let t=0;t<9;t++)this.startGrid[9*e+t]=o[t]}this.grid.set(this.startGrid)}resetGrid(){this.grid.set(this.startGrid)}hitDetect(t,e,o){const n=o-8,l=Math.floor((e-4)/n*9),i=Math.floor((t-4)/n*9);return l<0||i<0||l>=9||i>=9?[-1,-1]:[l,i]}draw(t,e,o){const n=d.getContext("2d");n.fillStyle="white",n.fillRect(0,0,d.width,d.height),n.strokeStyle="black";const l=d.width,i=l-8*window.devicePixelRatio,a=i/3,h=i/9;let f;t&&(n.fillStyle="cyan",n.fillRect(s(i*o/9)+1*window.devicePixelRatio,s(i*e/9)+1*window.devicePixelRatio,s(h),s(h))),n.beginPath(),n.lineWidth=8*window.devicePixelRatio,f=4*window.devicePixelRatio;for(let t=0;t<=3;t++,f+=a){const t=s(f);n.moveTo(t,0),n.lineTo(t,l),n.moveTo(0,t),n.lineTo(l,t)}n.stroke(),n.beginPath(),n.lineWidth=2*window.devicePixelRatio,f=4*window.devicePixelRatio+h;const m=2*h;for(let t=0;t<3;t++,f+=m){const t=.5;let e=Math.round(f)+t;n.moveTo(e,0),n.lineTo(e,l),n.moveTo(0,e),n.lineTo(l,e),f+=h,e=Math.floor(f)+t,n.moveTo(e,0),n.lineTo(e,l),n.moveTo(0,e),n.lineTo(l,e)}n.stroke(),n.textAlign="center",n.textBaseline="bottom",n.fillStyle="black";let y=null,u=null;f=4*window.devicePixelRatio+.5*h;let p=f;for(let t=0;t<9;t++,p+=h){let e=f;for(let o=0;o<9;o++,e+=h){const l=r[9*t+o];if(l){n.font="100 "+s(.7*h*1/3)+"px "+c,u||(u=n.measureText("0"));for(let t=0;t<3;t++)for(let o=0;o<3;o++)if(l[3*o+t]){const l=e+h*(t-1)/3*1,i=p+(.5*u.actualBoundingBoxAscent-.5*u.actualBoundingBoxDescent)+h*(o-1)/3*1,s=3*o+t+1;n.fillText(s,l,i)}}else{n.font="100 "+s(.7*h)+"px "+c,y||(y=n.measureText("0"));const l=this.grid.getSymbol(t,o);if(0===l)continue;const i=e,a=p+(.5*y.actualBoundingBoxAscent-.5*y.actualBoundingBoxDescent);n.fillText(l,s(i),s(a))}}}}};let f=0,m=0,y=!1;document.body.appendChild(l),document.body.appendChild(i),document.body.style.userSelect="none";const u=()=>{var t;h.draw(y,f,m),t="100 "+s(64*window.devicePixelRatio)+"px "+c,a(t,l),a(t,i)},p=()=>{localStorage.setItem("startGrid",h.startGrid.toData()),localStorage.setItem("grid",h.grid.toData()),localStorage.setItem("markers",JSON.stringify(r))},g=[[[5,0,0,0,0,4,0,7,2],[0,0,0,0,0,0,0,0,0],[0,0,0,6,1,3,0,0,0],[0,0,0,3,7,8,0,0,0],[0,0,0,4,0,0,0,6,3],[0,0,4,0,0,0,9,0,0],[0,9,6,0,0,0,1,0,0],[0,0,0,0,0,0,0,0,4],[0,1,0,0,0,5,3,9,0]],[[0,0,1,3,0,0,0,0,0],[0,9,0,0,2,0,0,0,0],[0,0,8,0,0,0,0,2,6],[0,0,0,0,0,9,0,0,5],[0,0,0,0,0,1,8,0,9],[0,0,0,7,3,4,0,0,0],[0,0,0,0,0,0,7,0,0],[4,7,0,0,0,0,0,9,0],[3,0,0,0,1,0,4,0,0]],[[1,0,0,2,0,0,3,0,0],[2,0,0,3,0,0,4,0,0],[3,0,0,4,0,0,5,0,0],[4,0,0,5,0,0,6,0,0],[0,0,0,0,0,0,0,0,0],[0,0,3,0,0,4,0,0,5],[0,0,4,0,0,5,0,0,6],[0,0,5,0,0,6,0,0,7],[0,0,6,0,0,7,0,0,8]],[[0,5,0,0,2,0,0,0,0],[0,0,0,6,0,0,1,0,0],[0,8,3,0,0,4,0,0,6],[0,3,9,0,8,0,7,0,0],[5,0,0,0,0,0,0,0,3],[1,0,0,0,0,9,0,0,0],[0,6,4,0,0,8,0,0,1],[9,0,0,0,0,0,0,0,0],[0,0,0,0,7,0,0,2,0]],[[0,3,0,0,4,0,0,0,0],[0,0,1,0,0,7,0,0,0],[0,0,6,0,0,0,9,4,0],[0,0,0,5,7,8,0,0,0],[0,0,0,3,0,0,2,0,0],[0,0,0,1,0,0,3,0,6],[5,8,0,0,0,0,0,3,0],[0,0,0,0,0,0,0,0,8],[7,0,0,0,1,0,0,0,5]],[[9,0,0,4,2,0,5,6,0],[0,0,7,0,0,0,0,4,0],[0,5,4,0,0,0,1,9,0],[0,0,0,8,7,1,9,0,0],[0,2,0,0,0,0,0,0,0],[0,0,0,0,0,6,4,0,0],[0,7,0,0,3,0,0,0,5],[0,0,0,0,9,0,0,0,0],[0,0,8,0,0,0,0,0,0]]];(()=>{const t=localStorage.getItem("startGrid");if(t){h.startGrid.fromData(t);const e=localStorage.getItem("grid");e&&h.grid.fromData(e);const o=localStorage.getItem("markers");if(o){const t=JSON.parse(o);r.length=0;for(const e in t)r[e]=t[e]}return!0}return!1})()||h.setGrid(g[0]),document.body.appendChild(h.canvas),h.canvas.addEventListener("click",(t=>{const e=t.target.getBoundingClientRect(),o=t.clientX-e.left,n=t.clientY-e.top,[l,i]=h.hitDetect(o,n,e.width);l<0||i<0||0===h.startGrid.getSymbol(l,i)&&(console.log(l,i),y&&f===l&&m===i?y=!1:(f=l,m=i,y=!0),u())}));const x=t=>{const e=t.target.getBoundingClientRect(),o=t.clientX-e.left,n=t.clientY-e.top,l=e.width;return[Math.floor(n/l*3),Math.floor(o/l*3)]};l.addEventListener("click",(t=>{if(!y)return;const[e,o]=x(t),n=3*e+o+1;h.grid.getSymbol(f,m)==n?h.grid.setSymbol(f,m,0):(delete r[9*f+m],h.grid.setSymbol(f,m,n),p()),u()})),i.addEventListener("click",(t=>{if(!y)return;const[e,o]=x(t),n=3*e+o;let l=r[9*f+m];l||(l=[],r[9*f+m]=l),l[n]=!l[n],u()})),window.addEventListener("focus",(()=>{console.log("onFocus"),u()})),window.addEventListener("blur",(()=>{})),addEventListener("orientationchange",(t=>{u(),console.log(t)}));const w=((t,e)=>{const o=document.createElement("select");for(const e of t){const t=document.createElement("option");t.text=e,o.appendChild(t)}return o.addEventListener("change",(()=>{(t=>{h.setGrid(g[t.selectedIndex]),p(),u()})(o)})),document.body.appendChild(o),document.body.appendChild(document.createElement("br")),o})(g.keys());w.style.position="absolute";const b=document.createElement("button");b.appendChild(document.createTextNode("X")),b.style.position="absolute",b.style.width="32px",b.style.height="32px",b.addEventListener("click",(()=>{r.length=0,h.resetGrid(),p(),u()})),document.body.appendChild(b);const v=document.createElement("button");v.appendChild(document.createTextNode(" 1 ")),v.style.position="absolute",v.style.width="48px",v.style.height="32px",v.addEventListener("click",(()=>{((t,e)=>{for(let o=0;o<81;o++)if(0===t[o]){let n=0;const l=e[o];if(!l)continue;for(let t=0;t<9;t++)if(l[t]){if(0!==n){n=-1;break}n=t+1}n>0&&(delete e[o],t[o]=n)}((t,e)=>{for(let o=0;o<9;o++)for(let n=0;n<9;n++){let l=-1;for(let t=0;t<9;t++){const i=e[9*o+t];if(0===o&&0===n&&console.log(i[n]),i&&i[n]){if(-1!==l){l=-1;break}l=t}}-1!==l&&t.setSymbol(o,l,n+1)}})(t,e)})(h.grid,r),u()})),document.body.appendChild(v);const S=document.createElement("button");S.appendChild(document.createTextNode("+++")),S.style.position="absolute",S.style.width="48px",S.style.height="32px",S.addEventListener("click",(()=>{r.length=0,((t,e,o=4)=>{e.length=0;for(let o=0;o<81;o++)0===t[o]&&(e[o]=[!0,!0,!0,!0,!0,!0,!0,!0,!0]);for(let n=0;n<9;n++)for(let l=0;l<9;l++){if(t.getSymbol(n,l)>0)continue;const i=9*n+l;let s=e[i];if(!s)continue;for(let e=0;e<9;e++){const o=t.getSymbol(n,e),i=t.getSymbol(e,l),a=3*Math.floor(n/3),r=3*Math.floor(l/3),d=t.getSymbol(a+Math.floor(e/3),r+e%3);o>0&&(s[o-1]=!1),i>0&&(s[i-1]=!1),d>0&&(s[d-1]=!1)}let a=0;for(let t=0;t<9;t++)s[t]&&a++;a>o&&delete e[i]}})(h.grid,r),u()})),document.body.appendChild(S),w.style.transform="translateX(-50%)",b.style.transform="translateX(-50%)",b.style.transform="translateX(-50%)",S.style.transform="translateX(-50%)",v.style.transform="translateX(-50%)",h.canvas.style.position="absolute",h.canvas.style.left="50%";const T=()=>{let t=window.innerWidth,e=window.innerHeight;t-192>e?(t-e<384&&(t-=384),h.canvas.style.top="0%",h.canvas.style.transform="translate(-50%, 0%)",v.style.bottom="384px",v.style.left="96px",S.style.bottom="336px",S.style.left="96px",w.style.bottom="288px",w.style.left="96px",b.style.bottom="240px",b.style.left="96px"):(h.canvas.style.top=e-t<192?"0%":.5*(e-192-t)+"px",e-t<384&&(e-=192),h.canvas.style.transform="translate(-50%, 0%)",S.style.bottom="128px",S.style.left="50%",v.style.bottom="88px",v.style.left="50%",w.style.bottom="48px",w.style.left="50%",b.style.bottom="8px",b.style.left="50%");const o=Math.min(t,e);h.canvas.style.width=o+"px",h.canvas.style.height=o+"px",h.canvas.width=2*Math.floor(o*window.devicePixelRatio/1),h.canvas.height=2*Math.floor(o*window.devicePixelRatio/1),u()};T(),window.addEventListener("resize",T)}}]);